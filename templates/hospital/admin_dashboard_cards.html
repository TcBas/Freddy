<!DOCTYPE html>
<html lang="es" dir="ltr">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Panel de Estadísticas Hospitalarias</title>

  <!-- Bootstrap 5 CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <!-- Font Awesome 6 -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800&display=swap" rel="stylesheet">

  <style>
    :root {
      /* Paleta de colores modernizada */
      --primary-blue: #2563eb;
      --primary-red: #e11d48;
      --primary-orange: #ea580c;
      --primary-green: #16a34a;
      --dark: #1e293b;
      --light: #f8fafc;
      --gray-text: #64748b;
      
      /* Sombras */
      --shadow-sm: 0 2px 4px rgba(0, 0, 0, 0.05);
      --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
      --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
      
      /* Transiciones */
      --transition-fast: 0.2s ease;
      --transition-normal: 0.3s ease;
    }

    body {
      font-family: 'Nunito', sans-serif;
      background-color: #f1f5f9;
      color: var(--dark);
      line-height: 1.6;
      padding: 1.5rem 0;
    }

    .dashboard-header {
      margin-bottom: 2rem;
      text-align: center;
    }

    .dashboard-header h1 {
      font-weight: 800;
      font-size: 2.2rem;
      color: var(--dark);
      margin-bottom: 0.5rem;
    }

    .dashboard-header p {
      color: var(--gray-text);
      font-size: 1.1rem;
    }

    .stats-container {
      max-width: 1200px;
      margin: 0 auto 3rem auto;
      padding: 0 1rem;
    }

    .stat-card {
      background: var(--light);
      border-radius: 1rem;
      overflow: hidden;
      box-shadow: var(--shadow-md);
      transition: transform var(--transition-normal), box-shadow var(--transition-normal);
      height: 100%;
      position: relative;
    }

    .stat-card:hover {
      transform: translateY(-7px);
      box-shadow: var(--shadow-lg);
    }

    .stat-card-inner {
      padding: 1.5rem;
      display: flex;
      flex-direction: column;
      height: 100%;
    }

    .stat-card-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 1.5rem;
    }

    .stat-card-icon {
      width: 60px;
      height: 60px;
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.8rem;
      color: white;
    }

    .stat-card-title {
      font-size: 1.1rem;
      font-weight: 700;
      margin-bottom: 0.25rem;
      color: var(--gray-text);
    }

    .stat-card-value {
      font-size: 3rem;
      font-weight: 800;
      line-height: 1;
      margin-bottom: 1rem;
    }

    .stat-card-secondary {
      display: flex;
      align-items: center;
      font-size: 0.95rem;
      color: var(--gray-text);
      margin-top: auto;
    }

    .stat-card-secondary i {
      margin-right: 0.4rem;
    }
    
    .stat-card-progress {
      position: absolute;
      bottom: 0;
      left: 0;
      height: 5px;
      background: rgba(255, 255, 255, 0.2);
      width: 100%;
    }

    .progress-value {
      height: 100%;
      transition: width 1s ease-in-out;
    }

    /* Color schemes */
    .card-doctors {
      background: linear-gradient(135deg, #2563eb 0%, #1e40af 100%);
      color: white;
    }
    
    .card-patients {
      background: linear-gradient(135deg, #ea580c 0%, #9a3412 100%);
      color: white;
    }
    
    .card-appointments {
      background: linear-gradient(135deg, #16a34a 0%, #166534 100%);
      color: white;
    }

    .icon-doctors { background-color: rgba(255, 255, 255, 0.2); }
    .icon-patients { background-color: rgba(255, 255, 255, 0.2); }
    .icon-appointments { background-color: rgba(255, 255, 255, 0.2); }
    
    .progress-doctors { background-color: rgb(96, 165, 250); }
    .progress-patients { background-color: rgb(251, 146, 60); }
    .progress-appointments { background-color: rgb(74, 222, 128); }

    @media (max-width: 768px) {
      .dashboard-header h1 {
        font-size: 1.8rem;
      }
      
      .stat-card {
        margin-bottom: 1.5rem;
      }
      
      .stat-card-value {
        font-size: 2.5rem;
      }
    }
  </style>
</head>

<body>
  <div class="dashboard-header">
    <h1>Panel de Estadísticas</h1>
    <p>Resumen general del sistema hospitalario</p>
  </div>

  <div class="stats-container">
    <div class="row g-4">
      <!-- Card 1: Doctores -->
      <div class="col-md-4">
        <div class="stat-card card-doctors">
          <div class="stat-card-inner">
            <div class="stat-card-header">
              <div>
                <div class="stat-card-title">Doctores</div>
                <div class="stat-card-value">{{doctorcount}}</div>
              </div>
              <div class="stat-card-icon icon-doctors">
                <i class="fas fa-user-md"></i>
              </div>
            </div>
            
            <div class="stat-card-secondary">
              <i class="fas fa-clock"></i>
              <span>Por aprobar: {{pendingdoctorcount}}</span>
            </div>
            
            <div class="stat-card-progress">
              {% if doctorcount > 0 %}
                {% with pending_percentage=pendingdoctorcount|floatformat:0|default:0 %}
                  <div class="progress-value progress-doctors" style="width: calc(100% - {{pending_percentage}}%)"></div>
                {% endwith %}
              {% else %}
                <div class="progress-value progress-doctors" style="width: 0%"></div>
              {% endif %}
            </div>
          </div>
        </div>
      </div>
      
      <!-- Card 2: Pacientes -->
      <div class="col-md-4">
        <div class="stat-card card-patients">
          <div class="stat-card-inner">
            <div class="stat-card-header">
              <div>
                <div class="stat-card-title">Pacientes</div>
                <div class="stat-card-value">{{patientcount}}</div>
              </div>
              <div class="stat-card-icon icon-patients">
                <i class="fas fa-hospital-user"></i>
              </div>
            </div>
            
            <div class="stat-card-secondary">
              <i class="fas fa-procedures"></i>
              <span>Por ingresar: {{pendingpatientcount}}</span>
            </div>
            
            <div class="stat-card-progress">
              {% if patientcount > 0 %}
                {% with pending_percentage=pendingpatientcount|floatformat:0|default:0 %}
                  <div class="progress-value progress-patients" style="width: calc(100% - {{pending_percentage}}%)"></div>
                {% endwith %}
              {% else %}
                <div class="progress-value progress-patients" style="width: 0%"></div>
              {% endif %}
            </div>
          </div>
        </div>
      </div>
      
      <!-- Card 3: Citas -->
      <div class="col-md-4">
        <div class="stat-card card-appointments">
          <div class="stat-card-inner">
            <div class="stat-card-header">
              <div>
                <div class="stat-card-title">Citas</div>
                <div class="stat-card-value">{{appointmentcount}}</div>
              </div>
              <div class="stat-card-icon icon-appointments">
                <i class="fas fa-calendar-check"></i>
              </div>
            </div>
            
            <div class="stat-card-secondary">
              <i class="fas fa-hourglass-half"></i>
              <span>Por atender: {{pendingappointmentcount}}</span>
            </div>
            
            <div class="stat-card-progress">
              {% if appointmentcount > 0 %}
                {% with pending_percentage=pendingappointmentcount|floatformat:0|default:0 %}
                  <div class="progress-value progress-appointments" style="width: calc(100% - {{pending_percentage}}%)"></div>
                {% endwith %}
              {% else %}
                <div class="progress-value progress-appointments" style="width: 0%"></div>
              {% endif %}
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  
  <!-- Bootstrap 5 JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
